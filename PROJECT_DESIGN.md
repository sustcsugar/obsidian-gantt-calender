# Obsidian Gantt Calendar - é¡¹ç›®è®¾è®¡æ–‡æ¡£

> ç‰ˆæœ¬: 1.1.4
> ä½œè€…: obsidian-gantt-calendar å¼€å‘å›¢é˜Ÿ
> æ›´æ–°æ—¥æœŸ: 2025-12-24

---

## 1. é¡¹ç›®æ¦‚è¿°

**Obsidian Gantt Calendar** æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Obsidian æ’ä»¶,é›†æˆäº†æ—¥å†è§†å›¾ã€ç”˜ç‰¹å›¾ã€ä»»åŠ¡ç®¡ç†å’Œå†œå†æ˜¾ç¤ºåŠŸèƒ½ã€‚è¯¥æ’ä»¶æ”¯æŒ Tasks å’Œ Dataview ä¸¤ç§ä»»åŠ¡æ ¼å¼,æä¾›å¹´/æœˆ/å‘¨/æ—¥/ä»»åŠ¡/ç”˜ç‰¹å›¾ å…­ç§è§†å›¾æ¨¡å¼ã€‚

### æ ¸å¿ƒç‰¹æ€§
- å¤šè§†å›¾æ—¥å†ç³»ç»Ÿ(å¹´/æœˆ/å‘¨/æ—¥/ç”˜ç‰¹å›¾)
- æ™ºèƒ½ä»»åŠ¡ç®¡ç†ä¸ç¼“å­˜
- åŒæ ¼å¼ä»»åŠ¡å…¼å®¹(Tasks & Dataview)
- å†œå†èŠ‚æ—¥èŠ‚æ°”æ˜¾ç¤º
- Daily Note æ·±åº¦é›†æˆ
- ä»»åŠ¡çƒ­åŠ›å›¾å¯è§†åŒ–

---

## 2. é¡¹ç›®æ¶æ„

### 2.1 æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Plugin Entry (main.ts)                    â”‚
â”‚                   - åˆå§‹åŒ– & ç”Ÿå‘½å‘¨æœŸç®¡ç†                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CalendarView  â”‚                    â”‚ TaskCacheManager â”‚
â”‚  (ä¸»è§†å›¾å®¹å™¨)    â”‚                    â”‚  (ä»»åŠ¡ç¼“å­˜ç®¡ç†å™¨)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                       â”‚
        â”‚                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Toolbar å·¥å…·æ ç³»ç»Ÿ                        â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚     â”‚  Left    â”‚   Center   â”‚       Right          â”‚       â”‚
â”‚     â”‚è§†å›¾åˆ‡æ¢   â”‚ æ—¥æœŸæ˜¾ç¤º   â”‚  åŠŸèƒ½æŒ‰é’®åŒºåŸŸ          â”‚       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      è§†å›¾æ¸²æŸ“å™¨å±‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Year   â”‚ Month  â”‚  Week  â”‚  Day   â”‚ Task   â”‚ Gantt  â”‚ â”‚
â”‚  â”‚ View   â”‚ View   â”‚ View   â”‚ View   â”‚ View   â”‚ View   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                        â–²                                    â”‚
â”‚                        â”‚                                    â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚              â”‚ BaseCalendarRendererâ”‚ (åŸºç±»æä¾›å…±äº«æ–¹æ³•)      â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ ¸å¿ƒåŠŸèƒ½æ¨¡å—                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚Task Parser   â”‚Task Search   â”‚ Lunar Calendar        â”‚   â”‚
â”‚  â”‚ä»»åŠ¡è§£æå™¨      â”‚ä»»åŠ¡æœç´¢       â”‚ å†œå†è®¡ç®—              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚Context Menu  â”‚Settings Tab  â”‚Commands              â”‚   â”‚
â”‚  â”‚å³é”®èœå•        â”‚è®¾ç½®é¢æ¿       â”‚ å‘½ä»¤ç³»ç»Ÿ              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ main.ts                    # æ’ä»¶ä¸»å…¥å£(æ¨æµ‹)
â”œâ”€â”€ CalendarView.ts            # ä¸»è§†å›¾å®¹å™¨
â”œâ”€â”€ settings.ts                # è®¾ç½®é¢æ¿
â”œâ”€â”€ taskManager.ts             # ä»»åŠ¡ç¼“å­˜ç®¡ç†å™¨
â”œâ”€â”€ utils.ts                   # å·¥å…·å‡½æ•°
â”œâ”€â”€ taskModal.ts               # ä»»åŠ¡ç¼–è¾‘æ¨¡æ€æ¡†
â”‚
â”œâ”€â”€ toolbar/                   # å·¥å…·æ ç³»ç»Ÿ
â”‚   â”œâ”€â”€ toolbar.ts            # å·¥å…·æ ä¸»æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ toolbar-left.ts       # å·¦ä¾§è§†å›¾åˆ‡æ¢
â”‚   â”œâ”€â”€ toolbar-center.ts     # ä¸­é—´æ—¥æœŸæ˜¾ç¤º
â”‚   â”œâ”€â”€ toolbar-right-calendar.ts  # æ—¥å†å³ä¾§æŒ‰é’®
â”‚   â”œâ”€â”€ toolbar-right-task.ts     # ä»»åŠ¡è§†å›¾å³ä¾§æŒ‰é’®
â”‚   â”œâ”€â”€ toolbar-right-gantt.ts    # ç”˜ç‰¹å›¾å³ä¾§æŒ‰é’®
â”‚   â”œâ”€â”€ time-granularity.ts   # æ—¶é—´é¢—ç²’åº¦ç»„ä»¶
â”‚   â”œâ”€â”€ refresh-button.ts    # åˆ·æ–°æŒ‰é’®
â”‚   â””â”€â”€ status-filter.ts     # çŠ¶æ€ç­›é€‰å™¨
â”‚
â”œâ”€â”€ views/                     # è§†å›¾æ¸²æŸ“å™¨
â”‚   â”œâ”€â”€ BaseCalendarRenderer.ts  # æ¸²æŸ“å™¨åŸºç±»
â”‚   â”œâ”€â”€ YearView.ts          # å¹´è§†å›¾
â”‚   â”œâ”€â”€ MonthView.ts         # æœˆè§†å›¾
â”‚   â”œâ”€â”€ WeekView.ts          # å‘¨è§†å›¾
â”‚   â”œâ”€â”€ DayView.ts           # æ—¥è§†å›¾
â”‚   â”œâ”€â”€ TaskView.ts          # ä»»åŠ¡è§†å›¾
â”‚   â””â”€â”€ GanttView.ts         # ç”˜ç‰¹å›¾è§†å›¾
â”‚
â”œâ”€â”€ tasks/                     # ä»»åŠ¡å¤„ç†æ¨¡å—
â”‚   â”œâ”€â”€ parser.ts            # ä»»åŠ¡è§£æå™¨
â”‚   â”œâ”€â”€ search.ts            # ä»»åŠ¡æœç´¢
â”‚   â””â”€â”€ taskUtils.ts         # ä»»åŠ¡å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ lunar/                     # å†œå†è®¡ç®—æ¨¡å—
â”‚   â”œâ”€â”€ lunar.ts             # æ¨¡å—èšåˆ
â”‚   â”œâ”€â”€ lunarData.ts         # å†œå†æ•°æ®
â”‚   â”œâ”€â”€ lunarTypes.ts        # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ lunarUtils.ts        # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ lunarConvert.ts      # å…¬å†œè½¬æ¢
â”‚   â”œâ”€â”€ festival.ts          # èŠ‚æ—¥è®¡ç®—
â”‚   â””â”€â”€ solarTerm.ts         # èŠ‚æ°”è®¡ç®—
â”‚
â”œâ”€â”€ contextMenu/               # å³é”®èœå•
â”‚   â”œâ”€â”€ index.ts             # èœå•æ³¨å†Œ
â”‚   â””â”€â”€ commands/            # èœå•å‘½ä»¤
â”‚       â”œâ”€â”€ editTask.ts      # ç¼–è¾‘ä»»åŠ¡
â”‚       â”œâ”€â”€ createNoteFromTask.ts  # åˆ›å»ºç¬”è®°(åŒå)
â”‚       â”œâ”€â”€ createNoteFromTaskAlias.ts  # åˆ›å»ºç¬”è®°(åˆ«å)
â”‚       â”œâ”€â”€ setDueDate.ts    # è®¾ç½®æˆªæ­¢æ—¥æœŸ
â”‚       â”œâ”€â”€ setStartDate.ts  # è®¾ç½®å¼€å§‹æ—¥æœŸ
â”‚       â”œâ”€â”€ setScheduledDate.ts  # è®¾ç½®è®¡åˆ’æ—¥æœŸ
â”‚       â”œâ”€â”€ setCompletionDate.ts  # è®¾ç½®å®Œæˆæ—¥æœŸ
â”‚       â””â”€â”€ cancelTask.ts    # å–æ¶ˆä»»åŠ¡
â”‚
â”œâ”€â”€ commands/                  # ç¼–è¾‘å™¨å‘½ä»¤
â”‚   â”œâ”€â”€ index.ts             # å‘½ä»¤æ³¨å†Œ
â”‚   â”œâ”€â”€ common.ts            # é€šç”¨å‘½ä»¤
â”‚   â”œâ”€â”€ conditional.ts       # æ¡ä»¶å‘½ä»¤
â”‚   â””â”€â”€ editor.ts            # ç¼–è¾‘å™¨å‘½ä»¤
â”‚
â””â”€â”€ utils/                     # å·¥å…·æ¨¡å—
    â””â”€â”€ today.ts             # æ—¥æœŸå·¥å…·

styles.css                    # æ ·å¼æ–‡ä»¶
manifest.json                 # æ’ä»¶æ¸…å•
package.json                  # ä¾èµ–é…ç½®
```

---

## 3. æ ¸å¿ƒæ¨¡å—è®¾è®¡

### 3.1 CalendarView (ä¸»è§†å›¾å®¹å™¨)

**èŒè´£**: ä½œä¸ºæ‰€æœ‰è§†å›¾çš„å®¹å™¨å’Œç®¡ç†å™¨

**æ ¸å¿ƒæ–¹æ³•**:
| æ–¹æ³• | åŠŸèƒ½ |
|------|------|
| `onOpen()` | åˆå§‹åŒ–è§†å›¾,è®¢é˜…ç¼“å­˜æ›´æ–° |
| `render()` | æ¸²æŸ“å·¥å…·æ å’Œå½“å‰è§†å›¾å†…å®¹ |
| `switchView()` | åˆ‡æ¢è§†å›¾ç±»å‹ |
| `selectDate()` | é€‰æ‹©æ—¥æœŸå¹¶è·³è½¬åˆ°æ—¥è§†å›¾ |

**è§†å›¾ç±»å‹æšä¸¾**:
```typescript
type CalendarViewType = 'year' | 'month' | 'week' | 'day' | 'task' | 'gantt';
```

---

### 3.2 TaskCacheManager (ä»»åŠ¡ç¼“å­˜ç®¡ç†å™¨)

**è®¾è®¡æ¨¡å¼**: å•ä¾‹æ¨¡å¼

**æ ¸å¿ƒåŠŸèƒ½**:
1. **åˆå§‹åŒ–æ‰«æ**: æ‰«ææ•´ä¸ªç¬”è®°åº“,ç¼“å­˜æ‰€æœ‰ä»»åŠ¡
2. **å¢é‡æ›´æ–°**: ç›‘å¬æ–‡ä»¶å˜åŒ–,æ›´æ–°å—å½±å“æ–‡ä»¶çš„ä»»åŠ¡
3. **å‘å¸ƒè®¢é˜…**: é€šè¿‡ç›‘å¬å™¨æ¨¡å¼é€šçŸ¥è§†å›¾æ›´æ–°

**å…³é”®æ–¹æ³•**:
| æ–¹æ³• | åŠŸèƒ½ |
|------|------|
| `initialize()` | æ‰¹é‡æ‰«ææ‰€æœ‰ Markdown æ–‡ä»¶ |
| `updateFileCache()` | æ›´æ–°å•ä¸ªæ–‡ä»¶çš„ä»»åŠ¡ç¼“å­˜ |
| `getAllTasks()` | è·å–æ‰€æœ‰å·²ç¼“å­˜ä»»åŠ¡ |
| `onUpdate()` | è®¢é˜…ç¼“å­˜æ›´æ–°äº‹ä»¶ |
| `clear()` | æ¸…ç©ºç¼“å­˜ |

**æ€§èƒ½ä¼˜åŒ–**:
- æ‰¹é‡å¤„ç†æ–‡ä»¶(æ¯æ‰¹50ä¸ª)
- ä»»åŠ¡æ¯”è¾ƒé¿å…ä¸å¿…è¦çš„æ›´æ–°é€šçŸ¥
- å¼‚æ­¥å¤„ç†é¿å…é˜»å¡UI

---

### 3.3 BaseCalendarRenderer (æ¸²æŸ“å™¨åŸºç±»)

**èŒè´£**: ä¸ºæ‰€æœ‰è§†å›¾æ¸²æŸ“å™¨æä¾›å…±äº«æ–¹æ³•

**å…±äº«åŠŸèƒ½**:
| æ–¹æ³• | åŠŸèƒ½ |
|------|------|
| `cleanTaskDescription()` | æ¸…ç†ä»»åŠ¡æè¿°ä¸­çš„å…ƒæ•°æ®æ ‡è®° |
| `getPriorityIcon()` | è·å–ä¼˜å…ˆçº§å›¾æ ‡ |
| `createTaskCheckbox()` | åˆ›å»ºä»»åŠ¡å¤é€‰æ¡† |
| `createTaskTooltip()` | åˆ›å»ºä»»åŠ¡æ‚¬æµ®æç¤º |
| `renderTaskDescriptionWithLinks()` | æ¸²æŸ“åŒ…å«é“¾æ¥çš„ä»»åŠ¡æè¿° |
| `openTaskFile()` | æ‰“å¼€ä»»åŠ¡æ‰€åœ¨æ–‡ä»¶ |

---

### 3.4 ä»»åŠ¡è§£æå™¨ (tasks/parser.ts)

**æ”¯æŒçš„ä»»åŠ¡æ ¼å¼**:

#### Tasks æ’ä»¶æ ¼å¼ (Emoji)
```markdown
- [ ] ğŸ¯ å®Œæˆé¡¹ç›®æ–‡æ¡£ â« â• 2025-01-10 ğŸ“… 2025-01-15
```
| Emoji | å«ä¹‰ |
|-------|------|
| ğŸ”º/â«/ğŸ”¼/ğŸ”½/â¬ | ä¼˜å…ˆçº§ (highest/high/medium/low/lowest) |
| â• | åˆ›å»ºæ—¥æœŸ |
| ğŸ›« | å¼€å§‹æ—¥æœŸ |
| â³ | è®¡åˆ’æ—¥æœŸ |
| ğŸ“… | æˆªæ­¢æ—¥æœŸ |
| âŒ | å–æ¶ˆæ—¥æœŸ |
| âœ… | å®Œæˆæ—¥æœŸ |

#### Dataview æ’ä»¶æ ¼å¼ (å­—æ®µ)
```markdown
- [ ] ğŸ¯ å®Œæˆé¡¹ç›®æ–‡æ¡£ [priority:: high] [created:: 2025-01-10] [due:: 2025-01-15]
```

**è§£ææµç¨‹**:
1. ä» `metadataCache` è·å–åˆ—è¡¨é¡¹
2. åŒ¹é…ä»»åŠ¡æ ¼å¼ `- [ ]` / `- [x]`
3. æ£€æŸ¥å…¨å±€ç­›é€‰æ ‡è®°
4. è§£æä¼˜å…ˆçº§å’Œæ—¥æœŸå±æ€§
5. ç”Ÿæˆ `GanttTask` å¯¹è±¡

---

### 3.5 è§†å›¾æ¸²æŸ“å™¨

#### YearView (å¹´è§†å›¾)
- 12ä¸ªæœˆå¡ç‰‡ç½‘æ ¼å¸ƒå±€
- ä»»åŠ¡çƒ­åŠ›å›¾(5çº§é¢œè‰²æ¢¯åº¦)
- æ¯æ—¥ä»»åŠ¡æ•°é‡æ˜¾ç¤º
- å†œå†æ—¥æœŸæ˜¾ç¤º

#### MonthView (æœˆè§†å›¾)
- æ ‡å‡†æœˆå†å¸ƒå±€
- æ¯å¤©æ˜¾ç¤ºæŒ‡å®šæ•°é‡ä»»åŠ¡(å¯é…ç½®1-10)
- èŠ‚æ—¥æ ‡è®°(é˜³å†/å†œå†/èŠ‚æ°”)
- ç‚¹å‡»æ—¥æœŸæŸ¥çœ‹å®Œæ•´ä»»åŠ¡åˆ—è¡¨

#### WeekView (å‘¨è§†å›¾)
- æ¨ªå‘7å¤©å¸ƒå±€
- æ˜¾ç¤ºæ¯å¤©æ‰€æœ‰ä»»åŠ¡
- ä»Šæ—¥é«˜äº®æ ‡è®°

#### DayView (æ—¥è§†å›¾)
- è¯¦ç»†ä»»åŠ¡åˆ—è¡¨
- Daily Note åµŒå…¥
- æ°´å¹³/å‚ç›´å¸ƒå±€é€‰æ‹©
- å†œå†ä¿¡æ¯æ˜¾ç¤º

#### TaskView (ä»»åŠ¡è§†å›¾)
- å…¨å±€ä»»åŠ¡åˆ—è¡¨
- å®ŒæˆçŠ¶æ€ç­›é€‰
- æ—¥æœŸèŒƒå›´ç­›é€‰(å…¨éƒ¨/å½“å¤©/å½“å‘¨/å½“æœˆ/è‡ªå®šä¹‰)
- ä»»åŠ¡å±æ€§æ˜¾ç¤º(ä¼˜å…ˆçº§/æ—¶é—´å±æ€§)

#### GanttView (ç”˜ç‰¹å›¾è§†å›¾)
- æ—¶é—´è½´å¯è§†åŒ–
- ä»»åŠ¡æ¡å½¢å›¾
- æ”¯æŒæ—¥/å‘¨/æœˆæ—¶é—´é¢—ç²’åº¦
- å¯æ‹–åŠ¨åˆ†å‰²çº¿
- ä»Šå¤©çº¿æŒ‡ç¤ºå™¨

---

### 3.6 Toolbar å·¥å…·æ ç³»ç»Ÿ

**ä¸‰åŒºåŸŸå¸ƒå±€**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Calendar/Tasksåˆ‡æ¢]  [2025å¹´12æœˆ]  [< ä»Šå¤© >]      â”‚
â”‚        å·¦ä¾§              ä¸­é—´             å³ä¾§       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| åŒºåŸŸ | ç»„ä»¶ | åŠŸèƒ½ |
|------|------|------|
| Left | ToolbarLeft | è§†å›¾åˆ‡æ¢æŒ‰é’® |
| Center | ToolbarCenter | æ—¥æœŸèŒƒå›´/æ ‡é¢˜æ˜¾ç¤º |
| Right | ToolbarRightCalendar | æ—¥å†å¯¼èˆªæŒ‰é’® |
| Right | ToolbarRightTask | ä»»åŠ¡ç­›é€‰æŒ‰é’® |
| Right | ToolbarRightGantt | ç”˜ç‰¹å›¾æ§åˆ¶æŒ‰é’® |

---

### 3.7 Lunar å†œå†æ¨¡å—

**åŠŸèƒ½æ¨¡å—**:
| æ¨¡å— | åŠŸèƒ½ |
|------|------|
| `lunarData.ts` | å†œå†åŸºç¡€æ•°æ®è¡¨ |
| `lunarConvert.ts` | å…¬å†å†œå†äº’è½¬ |
| `festival.ts` | èŠ‚æ—¥è®¡ç®— |
| `solarTerm.ts` | èŠ‚æ°”è®¡ç®— |

---

## 4. æ•°æ®ç»“æ„

### 4.1 GanttTask (ä»»åŠ¡å¯¹è±¡)

```typescript
interface GanttTask {
    filePath: string;          // æ–‡ä»¶è·¯å¾„
    fileName: string;          // æ–‡ä»¶å
    lineNumber: number;        // è¡Œå·
    content: string;           // ä»»åŠ¡æè¿°
    completed: boolean;        // æ˜¯å¦å®Œæˆ
    format?: 'tasks' | 'dataview';  // æºæ ¼å¼

    // ä¼˜å…ˆçº§
    priority?: 'highest' | 'high' | 'medium' | 'low' | 'lowest' | 'normal';

    // æ—¥æœŸå±æ€§
    createdDate?: Date;        // åˆ›å»ºæ—¥æœŸ
    startDate?: Date;          // å¼€å§‹æ—¥æœŸ
    scheduledDate?: Date;      // è®¡åˆ’æ—¥æœŸ
    dueDate?: Date;            // æˆªæ­¢æ—¥æœŸ
    cancelledDate?: Date;      // å–æ¶ˆæ—¥æœŸ
    completionDate?: Date;     // å®Œæˆæ—¥æœŸ

    // è­¦å‘Šä¿¡æ¯
    warning?: string;          // æ ¼å¼é—®é¢˜è­¦å‘Š
}
```

### 4.2 CalendarDay (æ—¥å†æ—¥æœŸ)

```typescript
interface CalendarDay {
    date: Date;                // æ—¥æœŸå¯¹è±¡
    day: number;               // æ—¥æ•°
    isCurrentMonth: boolean;   // æ˜¯å¦å½“å‰æœˆ
    isToday: boolean;          // æ˜¯å¦ä»Šå¤©
    weekday: number;           // æ˜ŸæœŸ(0-6)
    lunarText?: string;        // å†œå†æ–‡æœ¬
    festival?: string;         // èŠ‚æ—¥åç§°
    festivalType?: 'solar' | 'lunar' | 'solarTerm';  // èŠ‚æ—¥ç±»å‹
}
```

### 4.3 GanttCalendarSettings (è®¾ç½®é¡¹)

```typescript
interface GanttCalendarSettings {
    // åŸºç¡€è®¾ç½®
    startOnMonday: boolean;           // å‘¨ä¸€å¼€å§‹

    // ä»»åŠ¡è®¾ç½®
    globalTaskFilter: string;         // å…¨å±€ç­›é€‰æ ‡è®°
    enabledTaskFormats: string[];     // å¯ç”¨çš„ä»»åŠ¡æ ¼å¼
    showGlobalFilterInTaskText: boolean;  // æ˜¾ç¤ºç­›é€‰æ ‡è®°
    dateFilterField: string;          // æ—¥æœŸç­›é€‰å­—æ®µ
    taskNotePath: string;             // ä»»åŠ¡ç¬”è®°è·¯å¾„

    // æ—¥å†è®¾ç½®
    yearLunarFontSize: number;        // å¹´è§†å›¾å†œå†å­—å·
    solarFestivalColor: string;       // é˜³å†èŠ‚æ—¥é¢œè‰²
    lunarFestivalColor: string;       // å†œå†èŠ‚æ—¥é¢œè‰²
    solarTermColor: string;           // èŠ‚æ°”é¢œè‰²

    // æ—¥è§†å›¾è®¾ç½®
    enableDailyNote: boolean;         // å¯ç”¨Daily Note
    dayViewLayout: 'horizontal' | 'vertical';  // å¸ƒå±€æ–¹å¼
    dailyNotePath: string;            // Daily Noteè·¯å¾„
    dailyNoteNameFormat: string;      // æ–‡ä»¶åæ ¼å¼

    // æœˆè§†å›¾è®¾ç½®
    monthViewTaskLimit: number;       // æ¯æ—¥ä»»åŠ¡æ•°é‡é™åˆ¶

    // å¹´è§†å›¾è®¾ç½®
    yearShowTaskCount: boolean;       // æ˜¾ç¤ºä»»åŠ¡æ•°é‡
    yearHeatmapEnabled: boolean;      // å¯ç”¨çƒ­åŠ›å›¾
    yearHeatmapPalette: string;       // çƒ­åŠ›å›¾é…è‰²æ–¹æ¡ˆ
}
```

---

## 5. äº¤äº’æµç¨‹

### 5.1 æ’ä»¶å¯åŠ¨æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ’ä»¶åŠ è½½     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆ›å»ºè§†å›¾å®ä¾‹ â”‚ â”€â”€â–º â”‚ åˆå§‹åŒ–è®¾ç½®       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ³¨å†Œå‘½ä»¤     â”‚ â”€â”€â–º â”‚ åˆå§‹åŒ–ä»»åŠ¡ç¼“å­˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                      â”‚
       â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¢é˜…äº‹ä»¶     â”‚ â—„â”€â”€â”€â”‚ æ‰«ææ‰€æœ‰æ–‡ä»¶     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¸²æŸ“è§†å›¾     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ä»»åŠ¡æ›´æ–°æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶ä¿®æ”¹     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Obsidian    â”‚
â”‚ è§¦å‘ modify  â”‚
â”‚ äº‹ä»¶         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TaskCache   â”‚
â”‚ Manager     â”‚
â”‚ updateFile  â”‚
â”‚ Cache()     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è§£ææ–°ä»»åŠ¡   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¯”è¾ƒç¼“å­˜     â”‚
â”‚ (æ˜¯å¦å˜åŒ–)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”
   â”‚       â”‚
   â–¼       â–¼
æœ‰å˜åŒ–   æ— å˜åŒ–
   â”‚       â”‚
   â–¼       â”‚
é€šçŸ¥è§†å›¾   â”‚
   â”‚       â”‚
   â””â”€â”€â”€â”¬â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é‡æ–°æ¸²æŸ“     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 è§†å›¾åˆ‡æ¢æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·ç‚¹å‡»     â”‚
â”‚ è§†å›¾åˆ‡æ¢æŒ‰é’® â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Toolbar     â”‚
â”‚ onViewSwitchâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CalendarViewâ”‚
â”‚ switchView()â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ›´æ–°å½“å‰     â”‚
â”‚ è§†å›¾ç±»å‹     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é‡æ–°æ¸²æŸ“     â”‚
â”‚ render()    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¸²æŸ“å¯¹åº”     â”‚
â”‚ è§†å›¾å†…å®¹     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. æŠ€æœ¯å®ç°ç»†èŠ‚

### 6.1 ä»»åŠ¡ç¼“å­˜ç­–ç•¥

**è®¾è®¡ç›®æ ‡**: é¿å…é¢‘ç¹çš„æ–‡ä»¶ I/O æ“ä½œ

**å®ç°æ–¹æ¡ˆ**:
1. **Map ç»“æ„å­˜å‚¨**: `Map<filePath, GanttTask[]>`
2. **å¢é‡æ›´æ–°**: åªæ›´æ–°å˜åŒ–çš„æ–‡ä»¶
3. **æ·±åº¦æ¯”è¾ƒ**: `areTasksEqual()` é¿å…ä¸å¿…è¦çš„é€šçŸ¥
4. **æ‰¹é‡åˆå§‹åŒ–**: 50ä¸ªæ–‡ä»¶ä¸€æ‰¹å¤„ç†

### 6.2 ä»»åŠ¡è§£æä¼˜åŒ–

**ä½¿ç”¨ metadataCache**:
- ç›´æ¥è·å– `ListItemCache`,é¿å…å…¨æ–‡æ‰«æ
- åˆ©ç”¨ Obsidian å†…ç½®çš„ç¼“å­˜æœºåˆ¶

**æ­£åˆ™è¡¨è¾¾å¼é¢„ç¼–è¯‘**:
```typescript
const dateRegex = /(â•|ğŸ›«|â³|ğŸ“…|âŒ|âœ…)\s*(\d{4}-\d{2}-\d{2})/g;
const fieldRegex = /\[(priority|created|start|scheduled|due|cancelled|completion)::\s*([^\]]+)\]/g;
```

### 6.3 è§†å›¾æ¸²æŸ“ä¼˜åŒ–

**DOM æ¸…ç†æœºåˆ¶**:
- æ¯ä¸ªæ¸²æŸ“å™¨ç»´æŠ¤ `domCleanups` æ•°ç»„
- è§†å›¾åˆ‡æ¢æ—¶ç»Ÿä¸€æ¸…ç†äº‹ä»¶ç›‘å¬å™¨
- é¿å…å†…å­˜æ³„æ¼

**ResizeObserver**:
- å¹´è§†å›¾å†œå†å­—å·åŠ¨æ€è°ƒæ•´
- å“åº”å®¹å™¨å¤§å°å˜åŒ–

### 6.4 ç”˜ç‰¹å›¾å®ç°

**æ—¶é—´è½´è®¡ç®—**:
```typescript
// è®¡ç®—æ—¶é—´å•ä½æ•°é‡
calculateTimeUnits(startDate, endDate): number

// è®¡ç®—ä»»åŠ¡ä½ç½®
calculateTaskPosition(taskStart, taskEnd, timelineStart, totalUnits): { startOffset, duration }
```

**æ»šåŠ¨åŒæ­¥**:
- æ—¶é—´åˆ»åº¦å’Œä»»åŠ¡æ¡æ¨ªå‘æ»šåŠ¨åŒæ­¥
- ä»»åŠ¡åˆ—è¡¨å’Œç”˜ç‰¹å›¾çºµå‘æ»šåŠ¨åŒæ­¥

**ä»Šå¤©çº¿å®šä½**:
- åŠ¨æ€è®¡ç®—ä»Šå¤©åœ¨æ—¶é—´è½´ä¸Šçš„ä½ç½®
- æ»šåŠ¨æ—¶å®æ—¶æ›´æ–°

---

## 7. æ‰©å±•æ€§è®¾è®¡

### 7.1 è§†å›¾æ‰©å±•

æ–°å¢è§†å›¾åªéœ€:
1. ç»§æ‰¿ `BaseCalendarRenderer`
2. å®ç° `render()` æ–¹æ³•
3. åœ¨ `CalendarView` ä¸­æ³¨å†Œ
4. åœ¨å·¥å…·æ æ·»åŠ åˆ‡æ¢æŒ‰é’®

### 7.2 ä»»åŠ¡æ ¼å¼æ‰©å±•

æ–°å¢ä»»åŠ¡æ ¼å¼åªéœ€:
1. åœ¨ `parser.ts` æ·»åŠ è§£æå‡½æ•°
2. æ›´æ–° `enabledFormats` é…ç½®
3. åœ¨ `taskManager.ts` æ·»åŠ å†™å›é€»è¾‘

### 7.3 å³é”®èœå•æ‰©å±•

æ–°å¢èœå•é¡¹åªéœ€:
1. åœ¨ `contextMenu/commands/` åˆ›å»ºå‘½ä»¤æ–‡ä»¶
2. åœ¨ `contextMenu/index.ts` æ³¨å†Œ
3. å®ç°å‘½ä»¤é€»è¾‘

---

## 8. å·²çŸ¥é—®é¢˜ä¸æ”¹è¿›æ–¹å‘

### 8.1 å½“å‰ Bug

| é—®é¢˜ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|--------|
| æ‚¬æµ®çª—ä¸æ¶ˆå¤± | åˆ·æ–°åä»»åŠ¡æ‚¬æµ®çª—æœ‰æ¦‚ç‡ä¸æ¶ˆå¤± | é«˜ |
| åˆ·æ–°å¡é¡¿ | åˆ·æ–°æŒ‰é’®ç‚¹å‡»æ—¶ä¸¥é‡å¡é¡¿ | é«˜ |

### 8.2 è®¡åˆ’æ”¹è¿›

**ä»»åŠ¡è§£æå¢å¼º**:
- [ ] ä¼˜åŒ–è§£ææ€§èƒ½(è€ƒè™‘ MetadataCache API)
- [ ] æ”¯æŒè·¨è¡Œä»»åŠ¡
- [ ] å­ä»»åŠ¡è§£æ
- [ ] ä»»åŠ¡ä¾èµ–å…³ç³»

**ç”˜ç‰¹å›¾åŠŸèƒ½**:
- [ ] æ‹–åŠ¨ä¿®æ”¹ä»»åŠ¡æ—¶é—´
- [ ] ä»»åŠ¡é“¾æ¥æ˜¾ç¤º
- [ ] ç¼©æ”¾æ§åˆ¶

**ä»»åŠ¡è§†å›¾**:
- [ ] ä»»åŠ¡æ’åº
- [ ] æ‰¹é‡æ“ä½œ
- [ ] ç»Ÿè®¡çœ‹æ¿

---

## 9. é…ç½®æ–‡ä»¶è¯´æ˜

### manifest.json
```json
{
    "name": "obsidian-gantt-calendar",
    "version": "1.1.4",
    "minAppVersion": "1.5.0",
    "description": "æ—¥å†è§†å›¾ä¸ç”˜ç‰¹å›¾ä»»åŠ¡ç®¡ç†æ’ä»¶"
}
```

### package.json
- **å¼€å‘ä¾èµ–**: TypeScript, esbuild, Obsidian API
- **æ„å»ºè„šæœ¬**: dev, build, version

---

## 10. æ ·å¼ç³»ç»Ÿ

### CSS ç±»å‘½åè§„èŒƒ

| å‰ç¼€ | ç”¨é€” | ç¤ºä¾‹ |
|------|------|------|
| `.calendar-` | æ—¥å†ç›¸å…³ | `.calendar-toolbar` |
| `.gantt-` | ç”˜ç‰¹å›¾ç›¸å…³ | `.gantt-bar` |
| `.task-` | ä»»åŠ¡ç›¸å…³ | `.task-view-list` |
| `.toolbar-` | å·¥å…·æ ç›¸å…³ | `.toolbar-left` |

### ä¸»é¢˜æ”¯æŒ

- ä½¿ç”¨ CSS å˜é‡å®šä¹‰é¢œè‰²
- æ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜
- ç”¨æˆ·å¯è‡ªå®šä¹‰èŠ‚æ—¥é¢œè‰²

---

## 11. å¼€å‘æŒ‡å—

### 11.1 ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ„å»º
npm run build
```

### 11.2 è°ƒè¯•æŠ€å·§

**æŸ¥çœ‹æ—¥å¿—**:
```javascript
console.log('[TaskCache]', message);
```

**æ€§èƒ½åˆ†æ**:
```javascript
console.time('Task Parse');
// ... code
console.timeEnd('Task Parse');
```

### 11.3 æµ‹è¯•æµç¨‹

1. åœ¨ Obsidian ä¸­åŠ è½½æ’ä»¶
2. åˆ›å»ºæµ‹è¯•ä»»åŠ¡æ–‡ä»¶
3. éªŒè¯è§£ææ­£ç¡®æ€§
4. æµ‹è¯•å„è§†å›¾åŠŸèƒ½
5. æ£€æŸ¥ç¼“å­˜æ›´æ–°

---

## 12. API å‚è€ƒ

### 12.1 ä»»åŠ¡æ›´æ–° API

```typescript
// æ›´æ–°å®ŒæˆçŠ¶æ€
await updateTaskCompletion(app, task, completed, enabledFormats);

// æ›´æ–°æ—¥æœŸå­—æ®µ
await updateTaskDateField(app, task, dateFieldName, newDate, enabledFormats);

// æ‰¹é‡æ›´æ–°å±æ€§
await updateTaskProperties(app, task, updates, enabledFormats);
```

### 12.2 ç¼“å­˜ç®¡ç† API

```typescript
// åˆå§‹åŒ–ç¼“å­˜
await taskCache.initialize(globalFilter, formats);

// è·å–æ‰€æœ‰ä»»åŠ¡
const tasks = taskCache.getAllTasks();

// è®¢é˜…æ›´æ–°
taskCache.onUpdate(() => { /* refresh */ });
```

---

## 13. è®¸å¯è¯

MIT License

---

## 14. è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Request!

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

---

**æ–‡æ¡£ç”Ÿæˆæ—¶é—´**: 2025-12-24
**æ’ä»¶ç‰ˆæœ¬**: 1.1.4
